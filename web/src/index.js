const petstoreSwaggerBase64 =
  "ewogICJvcGVuYXBpIjogIjMuMC4yIiwKICAiaW5mbyI6IHsKICAgICJ0aXRsZSI6ICJTd2FnZ2VyIFBldHN0b3JlIC0gT3BlbkFQSSAzLjAiLAogICAgImRlc2NyaXB0aW9uIjogIlRoaXMgaXMgYSBzYW1wbGUgUGV0IFN0b3JlIFNlcnZlciBiYXNlZCBvbiB0aGUgT3BlbkFQSSAzLjAgc3BlY2lmaWNhdGlvbi4gIFlvdSBjYW4gZmluZCBvdXQgbW9yZSBhYm91dFxuU3dhZ2dlciBhdCBbaHR0cDovL3N3YWdnZXIuaW9dKGh0dHA6Ly9zd2FnZ2VyLmlvKS4gSW4gdGhlIHRoaXJkIGl0ZXJhdGlvbiBvZiB0aGUgcGV0IHN0b3JlLCB3ZSd2ZSBzd2l0Y2hlZCB0byB0aGUgZGVzaWduIGZpcnN0IGFwcHJvYWNoIVxuWW91IGNhbiBub3cgaGVscCB1cyBpbXByb3ZlIHRoZSBBUEkgd2hldGhlciBpdCdzIGJ5IG1ha2luZyBjaGFuZ2VzIHRvIHRoZSBkZWZpbml0aW9uIGl0c2VsZiBvciB0byB0aGUgY29kZS5cblRoYXQgd2F5LCB3aXRoIHRpbWUsIHdlIGNhbiBpbXByb3ZlIHRoZSBBUEkgaW4gZ2VuZXJhbCwgYW5kIGV4cG9zZSBzb21lIG9mIHRoZSBuZXcgZmVhdHVyZXMgaW4gT0FTMy5cblxuU29tZSB1c2VmdWwgbGlua3M6XG4tIFtUaGUgUGV0IFN0b3JlIHJlcG9zaXRvcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLXBldHN0b3JlKVxuLSBbVGhlIHNvdXJjZSBBUEkgZGVmaW5pdGlvbiBmb3IgdGhlIFBldCBTdG9yZV0oaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItcGV0c3RvcmUvYmxvYi9tYXN0ZXIvc3JjL21haW4vcmVzb3VyY2VzL29wZW5hcGkueWFtbCkiLAogICAgInRlcm1zT2ZTZXJ2aWNlIjogImh0dHA6Ly9zd2FnZ2VyLmlvL3Rlcm1zLyIsCiAgICAiY29udGFjdCI6IHsgImVtYWlsIjogImFwaXRlYW1Ac3dhZ2dlci5pbyIgfSwKICAgICJsaWNlbnNlIjogewogICAgICAibmFtZSI6ICJBcGFjaGUgMi4wIiwKICAgICAgInVybCI6ICJodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAuaHRtbCIKICAgIH0sCiAgICAidmVyc2lvbiI6ICIxLjAuMTEiCiAgfSwKICAiZXh0ZXJuYWxEb2NzIjogewogICAgImRlc2NyaXB0aW9uIjogIkZpbmQgb3V0IG1vcmUgYWJvdXQgU3dhZ2dlciIsCiAgICAidXJsIjogImh0dHA6Ly9zd2FnZ2VyLmlvIgogIH0sCiAgInNlcnZlcnMiOiBbeyAidXJsIjogIi9hcGkvdjMiIH1dLAogICJ0YWdzIjogWwogICAgewogICAgICAibmFtZSI6ICJwZXQiLAogICAgICAiZGVzY3JpcHRpb24iOiAiRXZlcnl0aGluZyBhYm91dCB5b3VyIFBldHMiLAogICAgICAiZXh0ZXJuYWxEb2NzIjogewogICAgICAgICJkZXNjcmlwdGlvbiI6ICJGaW5kIG91dCBtb3JlIiwKICAgICAgICAidXJsIjogImh0dHA6Ly9zd2FnZ2VyLmlvIgogICAgICB9CiAgICB9LAogICAgewogICAgICAibmFtZSI6ICJzdG9yZSIsCiAgICAgICJkZXNjcmlwdGlvbiI6ICJBY2Nlc3MgdG8gUGV0c3RvcmUgb3JkZXJzIiwKICAgICAgImV4dGVybmFsRG9jcyI6IHsKICAgICAgICAiZGVzY3JpcHRpb24iOiAiRmluZCBvdXQgbW9yZSBhYm91dCBvdXIgc3RvcmUiLAogICAgICAgICJ1cmwiOiAiaHR0cDovL3N3YWdnZXIuaW8iCiAgICAgIH0KICAgIH0sCiAgICB7ICJuYW1lIjogInVzZXIiLCAiZGVzY3JpcHRpb24iOiAiT3BlcmF0aW9ucyBhYm91dCB1c2VyIiB9CiAgXSwKICAicGF0aHMiOiB7CiAgICAiL3BldCI6IHsKICAgICAgInB1dCI6IHsKICAgICAgICAidGFncyI6IFsicGV0Il0sCiAgICAgICAgInN1bW1hcnkiOiAiVXBkYXRlIGFuIGV4aXN0aW5nIHBldCIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlVwZGF0ZSBhbiBleGlzdGluZyBwZXQgYnkgSWQiLAogICAgICAgICJvcGVyYXRpb25JZCI6ICJ1cGRhdGVQZXQiLAogICAgICAgICJyZXF1ZXN0Qm9keSI6IHsKICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJVcGRhdGUgYW4gZXhpc3RlbnQgcGV0IGluIHRoZSBzdG9yZSIsCiAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iOiB7CiAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvUGV0IiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJhcHBsaWNhdGlvbi94bWwiOiB7CiAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvUGV0IiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiOiB7CiAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvUGV0IiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlCiAgICAgICAgfSwKICAgICAgICAicmVzcG9uc2VzIjogewogICAgICAgICAgIjIwMCI6IHsKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlN1Y2Nlc3NmdWwgb3BlcmF0aW9uIiwKICAgICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICAgImFwcGxpY2F0aW9uL3htbCI6IHsKICAgICAgICAgICAgICAgICJzY2hlbWEiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL1BldCIgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iOiB7CiAgICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9QZXQiIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiNDAwIjogeyAiZGVzY3JpcHRpb24iOiAiSW52YWxpZCBJRCBzdXBwbGllZCIgfSwKICAgICAgICAgICI0MDQiOiB7ICJkZXNjcmlwdGlvbiI6ICJQZXQgbm90IGZvdW5kIiB9LAogICAgICAgICAgIjQwNSI6IHsgImRlc2NyaXB0aW9uIjogIlZhbGlkYXRpb24gZXhjZXB0aW9uIiB9CiAgICAgICAgfSwKICAgICAgICAic2VjdXJpdHkiOiBbeyAicGV0c3RvcmVfYXV0aCI6IFsid3JpdGU6cGV0cyIsICJyZWFkOnBldHMiXSB9XQogICAgICB9LAogICAgICAicG9zdCI6IHsKICAgICAgICAidGFncyI6IFsicGV0Il0sCiAgICAgICAgInN1bW1hcnkiOiAiQWRkIGEgbmV3IHBldCB0byB0aGUgc3RvcmUiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJBZGQgYSBuZXcgcGV0IHRvIHRoZSBzdG9yZSIsCiAgICAgICAgIm9wZXJhdGlvbklkIjogImFkZFBldCIsCiAgICAgICAgInJlcXVlc3RCb2R5IjogewogICAgICAgICAgImRlc2NyaXB0aW9uIjogIkNyZWF0ZSBhIG5ldyBwZXQgaW4gdGhlIHN0b3JlIiwKICAgICAgICAgICJjb250ZW50IjogewogICAgICAgICAgICAiYXBwbGljYXRpb24vanNvbiI6IHsKICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9QZXQiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgImFwcGxpY2F0aW9uL3htbCI6IHsKICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9QZXQiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCI6IHsKICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9QZXQiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUKICAgICAgICB9LAogICAgICAgICJyZXNwb25zZXMiOiB7CiAgICAgICAgICAiMjAwIjogewogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiU3VjY2Vzc2Z1bCBvcGVyYXRpb24iLAogICAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgICAiYXBwbGljYXRpb24veG1sIjogewogICAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvUGV0IiB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAiYXBwbGljYXRpb24vanNvbiI6IHsKICAgICAgICAgICAgICAgICJzY2hlbWEiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL1BldCIgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICI0MDUiOiB7ICJkZXNjcmlwdGlvbiI6ICJJbnZhbGlkIGlucHV0IiB9CiAgICAgICAgfSwKICAgICAgICAic2VjdXJpdHkiOiBbeyAicGV0c3RvcmVfYXV0aCI6IFsid3JpdGU6cGV0cyIsICJyZWFkOnBldHMiXSB9XQogICAgICB9CiAgICB9LAogICAgIi9wZXQvZmluZEJ5U3RhdHVzIjogewogICAgICAiZ2V0IjogewogICAgICAgICJ0YWdzIjogWyJwZXQiXSwKICAgICAgICAic3VtbWFyeSI6ICJGaW5kcyBQZXRzIGJ5IHN0YXR1cyIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIk11bHRpcGxlIHN0YXR1cyB2YWx1ZXMgY2FuIGJlIHByb3ZpZGVkIHdpdGggY29tbWEgc2VwYXJhdGVkIHN0cmluZ3MiLAogICAgICAgICJvcGVyYXRpb25JZCI6ICJmaW5kUGV0c0J5U3RhdHVzIiwKICAgICAgICAicGFyYW1ldGVycyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAic3RhdHVzIiwKICAgICAgICAgICAgImluIjogInF1ZXJ5IiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlN0YXR1cyB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIGNvbnNpZGVyZWQgZm9yIGZpbHRlciIsCiAgICAgICAgICAgICJyZXF1aXJlZCI6IGZhbHNlLAogICAgICAgICAgICAiZXhwbG9kZSI6IHRydWUsCiAgICAgICAgICAgICJzY2hlbWEiOiB7CiAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAiZGVmYXVsdCI6ICJhdmFpbGFibGUiLAogICAgICAgICAgICAgICJlbnVtIjogWyJhdmFpbGFibGUiLCAicGVuZGluZyIsICJzb2xkIl0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInJlc3BvbnNlcyI6IHsKICAgICAgICAgICIyMDAiOiB7CiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJzdWNjZXNzZnVsIG9wZXJhdGlvbiIsCiAgICAgICAgICAgICJjb250ZW50IjogewogICAgICAgICAgICAgICJhcHBsaWNhdGlvbi94bWwiOiB7CiAgICAgICAgICAgICAgICAic2NoZW1hIjogewogICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvUGV0IiB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAiYXBwbGljYXRpb24vanNvbiI6IHsKICAgICAgICAgICAgICAgICJzY2hlbWEiOiB7CiAgICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgICAgICAgIml0ZW1zIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9QZXQiIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiNDAwIjogeyAiZGVzY3JpcHRpb24iOiAiSW52YWxpZCBzdGF0dXMgdmFsdWUiIH0KICAgICAgICB9LAogICAgICAgICJzZWN1cml0eSI6IFt7ICJwZXRzdG9yZV9hdXRoIjogWyJ3cml0ZTpwZXRzIiwgInJlYWQ6cGV0cyJdIH1dCiAgICAgIH0KICAgIH0sCiAgICAiL3BldC9maW5kQnlUYWdzIjogewogICAgICAiZ2V0IjogewogICAgICAgICJ0YWdzIjogWyJwZXQiXSwKICAgICAgICAic3VtbWFyeSI6ICJGaW5kcyBQZXRzIGJ5IHRhZ3MiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJNdWx0aXBsZSB0YWdzIGNhbiBiZSBwcm92aWRlZCB3aXRoIGNvbW1hIHNlcGFyYXRlZCBzdHJpbmdzLiBVc2UgdGFnMSwgdGFnMiwgdGFnMyBmb3IgdGVzdGluZy4iLAogICAgICAgICJvcGVyYXRpb25JZCI6ICJmaW5kUGV0c0J5VGFncyIsCiAgICAgICAgInBhcmFtZXRlcnMiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogInRhZ3MiLAogICAgICAgICAgICAiaW4iOiAicXVlcnkiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGFncyB0byBmaWx0ZXIgYnkiLAogICAgICAgICAgICAicmVxdWlyZWQiOiBmYWxzZSwKICAgICAgICAgICAgImV4cGxvZGUiOiB0cnVlLAogICAgICAgICAgICAic2NoZW1hIjogeyAidHlwZSI6ICJhcnJheSIsICJpdGVtcyI6IHsgInR5cGUiOiAic3RyaW5nIiB9IH0KICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgICJyZXNwb25zZXMiOiB7CiAgICAgICAgICAiMjAwIjogewogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAic3VjY2Vzc2Z1bCBvcGVyYXRpb24iLAogICAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgICAiYXBwbGljYXRpb24veG1sIjogewogICAgICAgICAgICAgICAgInNjaGVtYSI6IHsKICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAgICAgICAiaXRlbXMiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL1BldCIgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iOiB7CiAgICAgICAgICAgICAgICAic2NoZW1hIjogewogICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvUGV0IiB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIjQwMCI6IHsgImRlc2NyaXB0aW9uIjogIkludmFsaWQgdGFnIHZhbHVlIiB9CiAgICAgICAgfSwKICAgICAgICAic2VjdXJpdHkiOiBbeyAicGV0c3RvcmVfYXV0aCI6IFsid3JpdGU6cGV0cyIsICJyZWFkOnBldHMiXSB9XQogICAgICB9CiAgICB9LAogICAgIi9wZXQve3BldElkfSI6IHsKICAgICAgImdldCI6IHsKICAgICAgICAidGFncyI6IFsicGV0Il0sCiAgICAgICAgInN1bW1hcnkiOiAiRmluZCBwZXQgYnkgSUQiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJSZXR1cm5zIGEgc2luZ2xlIHBldCIsCiAgICAgICAgIm9wZXJhdGlvbklkIjogImdldFBldEJ5SWQiLAogICAgICAgICJwYXJhbWV0ZXJzIjogWwogICAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJwZXRJZCIsCiAgICAgICAgICAgICJpbiI6ICJwYXRoIiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIklEIG9mIHBldCB0byByZXR1cm4iLAogICAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlLAogICAgICAgICAgICAic2NoZW1hIjogeyAidHlwZSI6ICJpbnRlZ2VyIiwgImZvcm1hdCI6ICJpbnQ2NCIgfQogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInJlc3BvbnNlcyI6IHsKICAgICAgICAgICIyMDAiOiB7CiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJzdWNjZXNzZnVsIG9wZXJhdGlvbiIsCiAgICAgICAgICAgICJjb250ZW50IjogewogICAgICAgICAgICAgICJhcHBsaWNhdGlvbi94bWwiOiB7CiAgICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9QZXQiIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJhcHBsaWNhdGlvbi9qc29uIjogewogICAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvUGV0IiB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIjQwMCI6IHsgImRlc2NyaXB0aW9uIjogIkludmFsaWQgSUQgc3VwcGxpZWQiIH0sCiAgICAgICAgICAiNDA0IjogeyAiZGVzY3JpcHRpb24iOiAiUGV0IG5vdCBmb3VuZCIgfQogICAgICAgIH0sCiAgICAgICAgInNlY3VyaXR5IjogWwogICAgICAgICAgeyAiYXBpX2tleSI6IFtdIH0sCiAgICAgICAgICB7ICJwZXRzdG9yZV9hdXRoIjogWyJ3cml0ZTpwZXRzIiwgInJlYWQ6cGV0cyJdIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgICJwb3N0IjogewogICAgICAgICJ0YWdzIjogWyJwZXQiXSwKICAgICAgICAic3VtbWFyeSI6ICJVcGRhdGVzIGEgcGV0IGluIHRoZSBzdG9yZSB3aXRoIGZvcm0gZGF0YSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsCiAgICAgICAgIm9wZXJhdGlvbklkIjogInVwZGF0ZVBldFdpdGhGb3JtIiwKICAgICAgICAicGFyYW1ldGVycyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAicGV0SWQiLAogICAgICAgICAgICAiaW4iOiAicGF0aCIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJJRCBvZiBwZXQgdGhhdCBuZWVkcyB0byBiZSB1cGRhdGVkIiwKICAgICAgICAgICAgInJlcXVpcmVkIjogdHJ1ZSwKICAgICAgICAgICAgInNjaGVtYSI6IHsgInR5cGUiOiAiaW50ZWdlciIsICJmb3JtYXQiOiAiaW50NjQiIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogIm5hbWUiLAogICAgICAgICAgICAiaW4iOiAicXVlcnkiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiTmFtZSBvZiBwZXQgdGhhdCBuZWVkcyB0byBiZSB1cGRhdGVkIiwKICAgICAgICAgICAgInNjaGVtYSI6IHsgInR5cGUiOiAic3RyaW5nIiB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJzdGF0dXMiLAogICAgICAgICAgICAiaW4iOiAicXVlcnkiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiU3RhdHVzIG9mIHBldCB0aGF0IG5lZWRzIHRvIGJlIHVwZGF0ZWQiLAogICAgICAgICAgICAic2NoZW1hIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgICJyZXNwb25zZXMiOiB7ICI0MDUiOiB7ICJkZXNjcmlwdGlvbiI6ICJJbnZhbGlkIGlucHV0IiB9IH0sCiAgICAgICAgInNlY3VyaXR5IjogW3sgInBldHN0b3JlX2F1dGgiOiBbIndyaXRlOnBldHMiLCAicmVhZDpwZXRzIl0gfV0KICAgICAgfSwKICAgICAgImRlbGV0ZSI6IHsKICAgICAgICAidGFncyI6IFsicGV0Il0sCiAgICAgICAgInN1bW1hcnkiOiAiRGVsZXRlcyBhIHBldCIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsCiAgICAgICAgIm9wZXJhdGlvbklkIjogImRlbGV0ZVBldCIsCiAgICAgICAgInBhcmFtZXRlcnMiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogImFwaV9rZXkiLAogICAgICAgICAgICAiaW4iOiAiaGVhZGVyIiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsCiAgICAgICAgICAgICJyZXF1aXJlZCI6IGZhbHNlLAogICAgICAgICAgICAic2NoZW1hIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogInBldElkIiwKICAgICAgICAgICAgImluIjogInBhdGgiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUGV0IGlkIHRvIGRlbGV0ZSIsCiAgICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUsCiAgICAgICAgICAgICJzY2hlbWEiOiB7ICJ0eXBlIjogImludGVnZXIiLCAiZm9ybWF0IjogImludDY0IiB9CiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAicmVzcG9uc2VzIjogeyAiNDAwIjogeyAiZGVzY3JpcHRpb24iOiAiSW52YWxpZCBwZXQgdmFsdWUiIH0gfSwKICAgICAgICAic2VjdXJpdHkiOiBbeyAicGV0c3RvcmVfYXV0aCI6IFsid3JpdGU6cGV0cyIsICJyZWFkOnBldHMiXSB9XQogICAgICB9CiAgICB9LAogICAgIi9wZXQve3BldElkfS91cGxvYWRJbWFnZSI6IHsKICAgICAgInBvc3QiOiB7CiAgICAgICAgInRhZ3MiOiBbInBldCJdLAogICAgICAgICJzdW1tYXJ5IjogInVwbG9hZHMgYW4gaW1hZ2UiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLAogICAgICAgICJvcGVyYXRpb25JZCI6ICJ1cGxvYWRGaWxlIiwKICAgICAgICAicGFyYW1ldGVycyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAicGV0SWQiLAogICAgICAgICAgICAiaW4iOiAicGF0aCIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJJRCBvZiBwZXQgdG8gdXBkYXRlIiwKICAgICAgICAgICAgInJlcXVpcmVkIjogdHJ1ZSwKICAgICAgICAgICAgInNjaGVtYSI6IHsgInR5cGUiOiAiaW50ZWdlciIsICJmb3JtYXQiOiAiaW50NjQiIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogImFkZGl0aW9uYWxNZXRhZGF0YSIsCiAgICAgICAgICAgICJpbiI6ICJxdWVyeSIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJBZGRpdGlvbmFsIE1ldGFkYXRhIiwKICAgICAgICAgICAgInJlcXVpcmVkIjogZmFsc2UsCiAgICAgICAgICAgICJzY2hlbWEiOiB7ICJ0eXBlIjogInN0cmluZyIgfQogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInJlcXVlc3RCb2R5IjogewogICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iOiB7CiAgICAgICAgICAgICAgInNjaGVtYSI6IHsgInR5cGUiOiAic3RyaW5nIiwgImZvcm1hdCI6ICJiaW5hcnkiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInJlc3BvbnNlcyI6IHsKICAgICAgICAgICIyMDAiOiB7CiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJzdWNjZXNzZnVsIG9wZXJhdGlvbiIsCiAgICAgICAgICAgICJjb250ZW50IjogewogICAgICAgICAgICAgICJhcHBsaWNhdGlvbi9qc29uIjogewogICAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvQXBpUmVzcG9uc2UiIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJzZWN1cml0eSI6IFt7ICJwZXRzdG9yZV9hdXRoIjogWyJ3cml0ZTpwZXRzIiwgInJlYWQ6cGV0cyJdIH1dCiAgICAgIH0KICAgIH0sCiAgICAiL3N0b3JlL2ludmVudG9yeSI6IHsKICAgICAgImdldCI6IHsKICAgICAgICAidGFncyI6IFsic3RvcmUiXSwKICAgICAgICAic3VtbWFyeSI6ICJSZXR1cm5zIHBldCBpbnZlbnRvcmllcyBieSBzdGF0dXMiLAogICAgICAgICJkZXNjcmlwdGlvbiI6ICJSZXR1cm5zIGEgbWFwIG9mIHN0YXR1cyBjb2RlcyB0byBxdWFudGl0aWVzIiwKICAgICAgICAib3BlcmF0aW9uSWQiOiAiZ2V0SW52ZW50b3J5IiwKICAgICAgICAicmVzcG9uc2VzIjogewogICAgICAgICAgIjIwMCI6IHsKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogInN1Y2Nlc3NmdWwgb3BlcmF0aW9uIiwKICAgICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iOiB7CiAgICAgICAgICAgICAgICAic2NoZW1hIjogewogICAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiaW50ZWdlciIsCiAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJpbnQzMiIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInNlY3VyaXR5IjogW3sgImFwaV9rZXkiOiBbXSB9XQogICAgICB9CiAgICB9LAogICAgIi9zdG9yZS9vcmRlciI6IHsKICAgICAgInBvc3QiOiB7CiAgICAgICAgInRhZ3MiOiBbInN0b3JlIl0sCiAgICAgICAgInN1bW1hcnkiOiAiUGxhY2UgYW4gb3JkZXIgZm9yIGEgcGV0IiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiUGxhY2UgYSBuZXcgb3JkZXIgaW4gdGhlIHN0b3JlIiwKICAgICAgICAib3BlcmF0aW9uSWQiOiAicGxhY2VPcmRlciIsCiAgICAgICAgInJlcXVlc3RCb2R5IjogewogICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICJhcHBsaWNhdGlvbi9qc29uIjogewogICAgICAgICAgICAgICJzY2hlbWEiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL09yZGVyIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJhcHBsaWNhdGlvbi94bWwiOiB7CiAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvT3JkZXIiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCI6IHsKICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9PcmRlciIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAicmVzcG9uc2VzIjogewogICAgICAgICAgIjIwMCI6IHsKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogInN1Y2Nlc3NmdWwgb3BlcmF0aW9uIiwKICAgICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iOiB7CiAgICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9PcmRlciIgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICI0MDUiOiB7ICJkZXNjcmlwdGlvbiI6ICJJbnZhbGlkIGlucHV0IiB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIi9zdG9yZS9vcmRlci97b3JkZXJJZH0iOiB7CiAgICAgICJnZXQiOiB7CiAgICAgICAgInRhZ3MiOiBbInN0b3JlIl0sCiAgICAgICAgInN1bW1hcnkiOiAiRmluZCBwdXJjaGFzZSBvcmRlciBieSBJRCIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIkZvciB2YWxpZCByZXNwb25zZSB0cnkgaW50ZWdlciBJRHMgd2l0aCB2YWx1ZSA8PSA1IG9yID4gMTAuIE90aGVyIHZhbHVlcyB3aWxsIGdlbmVyYXRlIGV4Y2VwdGlvbnMuIiwKICAgICAgICAib3BlcmF0aW9uSWQiOiAiZ2V0T3JkZXJCeUlkIiwKICAgICAgICAicGFyYW1ldGVycyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAib3JkZXJJZCIsCiAgICAgICAgICAgICJpbiI6ICJwYXRoIiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIklEIG9mIG9yZGVyIHRoYXQgbmVlZHMgdG8gYmUgZmV0Y2hlZCIsCiAgICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUsCiAgICAgICAgICAgICJzY2hlbWEiOiB7ICJ0eXBlIjogImludGVnZXIiLCAiZm9ybWF0IjogImludDY0IiB9CiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAicmVzcG9uc2VzIjogewogICAgICAgICAgIjIwMCI6IHsKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogInN1Y2Nlc3NmdWwgb3BlcmF0aW9uIiwKICAgICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICAgImFwcGxpY2F0aW9uL3htbCI6IHsKICAgICAgICAgICAgICAgICJzY2hlbWEiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL09yZGVyIiB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAiYXBwbGljYXRpb24vanNvbiI6IHsKICAgICAgICAgICAgICAgICJzY2hlbWEiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL09yZGVyIiB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIjQwMCI6IHsgImRlc2NyaXB0aW9uIjogIkludmFsaWQgSUQgc3VwcGxpZWQiIH0sCiAgICAgICAgICAiNDA0IjogeyAiZGVzY3JpcHRpb24iOiAiT3JkZXIgbm90IGZvdW5kIiB9CiAgICAgICAgfQogICAgICB9LAogICAgICAiZGVsZXRlIjogewogICAgICAgICJ0YWdzIjogWyJzdG9yZSJdLAogICAgICAgICJzdW1tYXJ5IjogIkRlbGV0ZSBwdXJjaGFzZSBvcmRlciBieSBJRCIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIkZvciB2YWxpZCByZXNwb25zZSB0cnkgaW50ZWdlciBJRHMgd2l0aCB2YWx1ZSA8IDEwMDAuIEFueXRoaW5nIGFib3ZlIDEwMDAgb3Igbm9uaW50ZWdlcnMgd2lsbCBnZW5lcmF0ZSBBUEkgZXJyb3JzIiwKICAgICAgICAib3BlcmF0aW9uSWQiOiAiZGVsZXRlT3JkZXIiLAogICAgICAgICJwYXJhbWV0ZXJzIjogWwogICAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJvcmRlcklkIiwKICAgICAgICAgICAgImluIjogInBhdGgiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiSUQgb2YgdGhlIG9yZGVyIHRoYXQgbmVlZHMgdG8gYmUgZGVsZXRlZCIsCiAgICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUsCiAgICAgICAgICAgICJzY2hlbWEiOiB7ICJ0eXBlIjogImludGVnZXIiLCAiZm9ybWF0IjogImludDY0IiB9CiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAicmVzcG9uc2VzIjogewogICAgICAgICAgIjQwMCI6IHsgImRlc2NyaXB0aW9uIjogIkludmFsaWQgSUQgc3VwcGxpZWQiIH0sCiAgICAgICAgICAiNDA0IjogeyAiZGVzY3JpcHRpb24iOiAiT3JkZXIgbm90IGZvdW5kIiB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIi91c2VyIjogewogICAgICAicG9zdCI6IHsKICAgICAgICAidGFncyI6IFsidXNlciJdLAogICAgICAgICJzdW1tYXJ5IjogIkNyZWF0ZSB1c2VyIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhpcyBjYW4gb25seSBiZSBkb25lIGJ5IHRoZSBsb2dnZWQgaW4gdXNlci4iLAogICAgICAgICJvcGVyYXRpb25JZCI6ICJjcmVhdGVVc2VyIiwKICAgICAgICAicmVxdWVzdEJvZHkiOiB7CiAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQ3JlYXRlZCB1c2VyIG9iamVjdCIsCiAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iOiB7CiAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvVXNlciIgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAiYXBwbGljYXRpb24veG1sIjogewogICAgICAgICAgICAgICJzY2hlbWEiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL1VzZXIiIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCI6IHsKICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyIiB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJyZXNwb25zZXMiOiB7CiAgICAgICAgICAiZGVmYXVsdCI6IHsKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogInN1Y2Nlc3NmdWwgb3BlcmF0aW9uIiwKICAgICAgICAgICAgImNvbnRlbnQiOiB7CiAgICAgICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iOiB7CiAgICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyIiB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAiYXBwbGljYXRpb24veG1sIjogewogICAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvVXNlciIgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICIvdXNlci9jcmVhdGVXaXRoTGlzdCI6IHsKICAgICAgInBvc3QiOiB7CiAgICAgICAgInRhZ3MiOiBbInVzZXIiXSwKICAgICAgICAic3VtbWFyeSI6ICJDcmVhdGVzIGxpc3Qgb2YgdXNlcnMgd2l0aCBnaXZlbiBpbnB1dCBhcnJheSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIkNyZWF0ZXMgbGlzdCBvZiB1c2VycyB3aXRoIGdpdmVuIGlucHV0IGFycmF5IiwKICAgICAgICAib3BlcmF0aW9uSWQiOiAiY3JlYXRlVXNlcnNXaXRoTGlzdElucHV0IiwKICAgICAgICAicmVxdWVzdEJvZHkiOiB7CiAgICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iOiB7CiAgICAgICAgICAgICAgInNjaGVtYSI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgICAgICJpdGVtcyI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvVXNlciIgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInJlc3BvbnNlcyI6IHsKICAgICAgICAgICIyMDAiOiB7CiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJTdWNjZXNzZnVsIG9wZXJhdGlvbiIsCiAgICAgICAgICAgICJjb250ZW50IjogewogICAgICAgICAgICAgICJhcHBsaWNhdGlvbi94bWwiOiB7CiAgICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyIiB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAiYXBwbGljYXRpb24vanNvbiI6IHsKICAgICAgICAgICAgICAgICJzY2hlbWEiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL1VzZXIiIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiZGVmYXVsdCI6IHsgImRlc2NyaXB0aW9uIjogInN1Y2Nlc3NmdWwgb3BlcmF0aW9uIiB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIi91c2VyL2xvZ2luIjogewogICAgICAiZ2V0IjogewogICAgICAgICJ0YWdzIjogWyJ1c2VyIl0sCiAgICAgICAgInN1bW1hcnkiOiAiTG9ncyB1c2VyIGludG8gdGhlIHN5c3RlbSIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsCiAgICAgICAgIm9wZXJhdGlvbklkIjogImxvZ2luVXNlciIsCiAgICAgICAgInBhcmFtZXRlcnMiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogInVzZXJuYW1lIiwKICAgICAgICAgICAgImluIjogInF1ZXJ5IiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSB1c2VyIG5hbWUgZm9yIGxvZ2luIiwKICAgICAgICAgICAgInJlcXVpcmVkIjogZmFsc2UsCiAgICAgICAgICAgICJzY2hlbWEiOiB7ICJ0eXBlIjogInN0cmluZyIgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAicGFzc3dvcmQiLAogICAgICAgICAgICAiaW4iOiAicXVlcnkiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHBhc3N3b3JkIGZvciBsb2dpbiBpbiBjbGVhciB0ZXh0IiwKICAgICAgICAgICAgInJlcXVpcmVkIjogZmFsc2UsCiAgICAgICAgICAgICJzY2hlbWEiOiB7ICJ0eXBlIjogInN0cmluZyIgfQogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInJlc3BvbnNlcyI6IHsKICAgICAgICAgICIyMDAiOiB7CiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJzdWNjZXNzZnVsIG9wZXJhdGlvbiIsCiAgICAgICAgICAgICJoZWFkZXJzIjogewogICAgICAgICAgICAgICJYLVJhdGUtTGltaXQiOiB7CiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiY2FsbHMgcGVyIGhvdXIgYWxsb3dlZCBieSB0aGUgdXNlciIsCiAgICAgICAgICAgICAgICAic2NoZW1hIjogeyAidHlwZSI6ICJpbnRlZ2VyIiwgImZvcm1hdCI6ICJpbnQzMiIgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIlgtRXhwaXJlcy1BZnRlciI6IHsKICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJkYXRlIGluIFVUQyB3aGVuIHRva2VuIGV4cGlyZXMiLAogICAgICAgICAgICAgICAgInNjaGVtYSI6IHsgInR5cGUiOiAic3RyaW5nIiwgImZvcm1hdCI6ICJkYXRlLXRpbWUiIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJjb250ZW50IjogewogICAgICAgICAgICAgICJhcHBsaWNhdGlvbi94bWwiOiB7ICJzY2hlbWEiOiB7ICJ0eXBlIjogInN0cmluZyIgfSB9LAogICAgICAgICAgICAgICJhcHBsaWNhdGlvbi9qc29uIjogeyAic2NoZW1hIjogeyAidHlwZSI6ICJzdHJpbmciIH0gfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIjQwMCI6IHsgImRlc2NyaXB0aW9uIjogIkludmFsaWQgdXNlcm5hbWUvcGFzc3dvcmQgc3VwcGxpZWQiIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiL3VzZXIvbG9nb3V0IjogewogICAgICAiZ2V0IjogewogICAgICAgICJ0YWdzIjogWyJ1c2VyIl0sCiAgICAgICAgInN1bW1hcnkiOiAiTG9ncyBvdXQgY3VycmVudCBsb2dnZWQgaW4gdXNlciBzZXNzaW9uIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiIiwKICAgICAgICAib3BlcmF0aW9uSWQiOiAibG9nb3V0VXNlciIsCiAgICAgICAgInBhcmFtZXRlcnMiOiBbXSwKICAgICAgICAicmVzcG9uc2VzIjogeyAiZGVmYXVsdCI6IHsgImRlc2NyaXB0aW9uIjogInN1Y2Nlc3NmdWwgb3BlcmF0aW9uIiB9IH0KICAgICAgfQogICAgfSwKICAgICIvdXNlci97dXNlcm5hbWV9IjogewogICAgICAiZ2V0IjogewogICAgICAgICJ0YWdzIjogWyJ1c2VyIl0sCiAgICAgICAgInN1bW1hcnkiOiAiR2V0IHVzZXIgYnkgdXNlciBuYW1lIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiIiwKICAgICAgICAib3BlcmF0aW9uSWQiOiAiZ2V0VXNlckJ5TmFtZSIsCiAgICAgICAgInBhcmFtZXRlcnMiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogInVzZXJuYW1lIiwKICAgICAgICAgICAgImluIjogInBhdGgiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG5hbWUgdGhhdCBuZWVkcyB0byBiZSBmZXRjaGVkLiBVc2UgdXNlcjEgZm9yIHRlc3RpbmcuICIsCiAgICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUsCiAgICAgICAgICAgICJzY2hlbWEiOiB7ICJ0eXBlIjogInN0cmluZyIgfQogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInJlc3BvbnNlcyI6IHsKICAgICAgICAgICIyMDAiOiB7CiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJzdWNjZXNzZnVsIG9wZXJhdGlvbiIsCiAgICAgICAgICAgICJjb250ZW50IjogewogICAgICAgICAgICAgICJhcHBsaWNhdGlvbi94bWwiOiB7CiAgICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyIiB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAiYXBwbGljYXRpb24vanNvbiI6IHsKICAgICAgICAgICAgICAgICJzY2hlbWEiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL1VzZXIiIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiNDAwIjogeyAiZGVzY3JpcHRpb24iOiAiSW52YWxpZCB1c2VybmFtZSBzdXBwbGllZCIgfSwKICAgICAgICAgICI0MDQiOiB7ICJkZXNjcmlwdGlvbiI6ICJVc2VyIG5vdCBmb3VuZCIgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgInB1dCI6IHsKICAgICAgICAidGFncyI6IFsidXNlciJdLAogICAgICAgICJzdW1tYXJ5IjogIlVwZGF0ZSB1c2VyIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhpcyBjYW4gb25seSBiZSBkb25lIGJ5IHRoZSBsb2dnZWQgaW4gdXNlci4iLAogICAgICAgICJvcGVyYXRpb25JZCI6ICJ1cGRhdGVVc2VyIiwKICAgICAgICAicGFyYW1ldGVycyI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgIm5hbWUiOiAidXNlcm5hbWUiLAogICAgICAgICAgICAiaW4iOiAicGF0aCIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJuYW1lIHRoYXQgbmVlZCB0byBiZSBkZWxldGVkIiwKICAgICAgICAgICAgInJlcXVpcmVkIjogdHJ1ZSwKICAgICAgICAgICAgInNjaGVtYSI6IHsgInR5cGUiOiAic3RyaW5nIiB9CiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAicmVxdWVzdEJvZHkiOiB7CiAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVXBkYXRlIGFuIGV4aXN0ZW50IHVzZXIgaW4gdGhlIHN0b3JlIiwKICAgICAgICAgICJjb250ZW50IjogewogICAgICAgICAgICAiYXBwbGljYXRpb24vanNvbiI6IHsKICAgICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9Vc2VyIiB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJhcHBsaWNhdGlvbi94bWwiOiB7CiAgICAgICAgICAgICAgInNjaGVtYSI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvVXNlciIgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIjogewogICAgICAgICAgICAgICJzY2hlbWEiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL1VzZXIiIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInJlc3BvbnNlcyI6IHsgImRlZmF1bHQiOiB7ICJkZXNjcmlwdGlvbiI6ICJzdWNjZXNzZnVsIG9wZXJhdGlvbiIgfSB9CiAgICAgIH0sCiAgICAgICJkZWxldGUiOiB7CiAgICAgICAgInRhZ3MiOiBbInVzZXIiXSwKICAgICAgICAic3VtbWFyeSI6ICJEZWxldGUgdXNlciIsCiAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoaXMgY2FuIG9ubHkgYmUgZG9uZSBieSB0aGUgbG9nZ2VkIGluIHVzZXIuIiwKICAgICAgICAib3BlcmF0aW9uSWQiOiAiZGVsZXRlVXNlciIsCiAgICAgICAgInBhcmFtZXRlcnMiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogInVzZXJuYW1lIiwKICAgICAgICAgICAgImluIjogInBhdGgiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG5hbWUgdGhhdCBuZWVkcyB0byBiZSBkZWxldGVkIiwKICAgICAgICAgICAgInJlcXVpcmVkIjogdHJ1ZSwKICAgICAgICAgICAgInNjaGVtYSI6IHsgInR5cGUiOiAic3RyaW5nIiB9CiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAicmVzcG9uc2VzIjogewogICAgICAgICAgIjQwMCI6IHsgImRlc2NyaXB0aW9uIjogIkludmFsaWQgdXNlcm5hbWUgc3VwcGxpZWQiIH0sCiAgICAgICAgICAiNDA0IjogeyAiZGVzY3JpcHRpb24iOiAiVXNlciBub3QgZm91bmQiIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogICJjb21wb25lbnRzIjogewogICAgInNjaGVtYXMiOiB7CiAgICAgICJPcmRlciI6IHsKICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgImlkIjogeyAidHlwZSI6ICJpbnRlZ2VyIiwgImZvcm1hdCI6ICJpbnQ2NCIsICJleGFtcGxlIjogMTAgfSwKICAgICAgICAgICJwZXRJZCI6IHsgInR5cGUiOiAiaW50ZWdlciIsICJmb3JtYXQiOiAiaW50NjQiLCAiZXhhbXBsZSI6IDE5ODc3MiB9LAogICAgICAgICAgInF1YW50aXR5IjogeyAidHlwZSI6ICJpbnRlZ2VyIiwgImZvcm1hdCI6ICJpbnQzMiIsICJleGFtcGxlIjogNyB9LAogICAgICAgICAgInNoaXBEYXRlIjogeyAidHlwZSI6ICJzdHJpbmciLCAiZm9ybWF0IjogImRhdGUtdGltZSIgfSwKICAgICAgICAgICJzdGF0dXMiOiB7CiAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJPcmRlciBTdGF0dXMiLAogICAgICAgICAgICAiZXhhbXBsZSI6ICJhcHByb3ZlZCIsCiAgICAgICAgICAgICJlbnVtIjogWyJwbGFjZWQiLCAiYXBwcm92ZWQiLCAiZGVsaXZlcmVkIl0KICAgICAgICAgIH0sCiAgICAgICAgICAiY29tcGxldGUiOiB7ICJ0eXBlIjogImJvb2xlYW4iIH0KICAgICAgICB9LAogICAgICAgICJ4bWwiOiB7ICJuYW1lIjogIm9yZGVyIiB9CiAgICAgIH0sCiAgICAgICJDdXN0b21lciI6IHsKICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgImlkIjogeyAidHlwZSI6ICJpbnRlZ2VyIiwgImZvcm1hdCI6ICJpbnQ2NCIsICJleGFtcGxlIjogMTAwMDAwIH0sCiAgICAgICAgICAidXNlcm5hbWUiOiB7ICJ0eXBlIjogInN0cmluZyIsICJleGFtcGxlIjogImZlaGd1eSIgfSwKICAgICAgICAgICJhZGRyZXNzIjogewogICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICJ4bWwiOiB7ICJuYW1lIjogImFkZHJlc3NlcyIsICJ3cmFwcGVkIjogdHJ1ZSB9LAogICAgICAgICAgICAiaXRlbXMiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL0FkZHJlc3MiIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJ4bWwiOiB7ICJuYW1lIjogImN1c3RvbWVyIiB9CiAgICAgIH0sCiAgICAgICJBZGRyZXNzIjogewogICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgICAic3RyZWV0IjogeyAidHlwZSI6ICJzdHJpbmciLCAiZXhhbXBsZSI6ICI0MzcgTHl0dG9uIiB9LAogICAgICAgICAgImNpdHkiOiB7ICJ0eXBlIjogInN0cmluZyIsICJleGFtcGxlIjogIlBhbG8gQWx0byIgfSwKICAgICAgICAgICJzdGF0ZSI6IHsgInR5cGUiOiAic3RyaW5nIiwgImV4YW1wbGUiOiAiQ0EiIH0sCiAgICAgICAgICAiemlwIjogeyAidHlwZSI6ICJzdHJpbmciLCAiZXhhbXBsZSI6ICI5NDMwMSIgfQogICAgICAgIH0sCiAgICAgICAgInhtbCI6IHsgIm5hbWUiOiAiYWRkcmVzcyIgfQogICAgICB9LAogICAgICAiQ2F0ZWdvcnkiOiB7CiAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICJpZCI6IHsgInR5cGUiOiAiaW50ZWdlciIsICJmb3JtYXQiOiAiaW50NjQiLCAiZXhhbXBsZSI6IDEgfSwKICAgICAgICAgICJuYW1lIjogeyAidHlwZSI6ICJzdHJpbmciLCAiZXhhbXBsZSI6ICJEb2dzIiB9CiAgICAgICAgfSwKICAgICAgICAieG1sIjogeyAibmFtZSI6ICJjYXRlZ29yeSIgfQogICAgICB9LAogICAgICAiVXNlciI6IHsKICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgImlkIjogeyAidHlwZSI6ICJpbnRlZ2VyIiwgImZvcm1hdCI6ICJpbnQ2NCIsICJleGFtcGxlIjogMTAgfSwKICAgICAgICAgICJ1c2VybmFtZSI6IHsgInR5cGUiOiAic3RyaW5nIiwgImV4YW1wbGUiOiAidGhlVXNlciIgfSwKICAgICAgICAgICJmaXJzdE5hbWUiOiB7ICJ0eXBlIjogInN0cmluZyIsICJleGFtcGxlIjogIkpvaG4iIH0sCiAgICAgICAgICAibGFzdE5hbWUiOiB7ICJ0eXBlIjogInN0cmluZyIsICJleGFtcGxlIjogIkphbWVzIiB9LAogICAgICAgICAgImVtYWlsIjogeyAidHlwZSI6ICJzdHJpbmciLCAiZXhhbXBsZSI6ICJqb2huQGVtYWlsLmNvbSIgfSwKICAgICAgICAgICJwYXNzd29yZCI6IHsgInR5cGUiOiAic3RyaW5nIiwgImV4YW1wbGUiOiAiMTIzNDUiIH0sCiAgICAgICAgICAicGhvbmUiOiB7ICJ0eXBlIjogInN0cmluZyIsICJleGFtcGxlIjogIjEyMzQ1IiB9LAogICAgICAgICAgInVzZXJTdGF0dXMiOiB7CiAgICAgICAgICAgICJ0eXBlIjogImludGVnZXIiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVXNlciBTdGF0dXMiLAogICAgICAgICAgICAiZm9ybWF0IjogImludDMyIiwKICAgICAgICAgICAgImV4YW1wbGUiOiAxCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAieG1sIjogeyAibmFtZSI6ICJ1c2VyIiB9CiAgICAgIH0sCiAgICAgICJUYWciOiB7CiAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICJpZCI6IHsgInR5cGUiOiAiaW50ZWdlciIsICJmb3JtYXQiOiAiaW50NjQiIH0sCiAgICAgICAgICAibmFtZSI6IHsgInR5cGUiOiAic3RyaW5nIiB9CiAgICAgICAgfSwKICAgICAgICAieG1sIjogeyAibmFtZSI6ICJ0YWciIH0KICAgICAgfSwKICAgICAgIlBldCI6IHsKICAgICAgICAicmVxdWlyZWQiOiBbIm5hbWUiLCAicGhvdG9VcmxzIl0sCiAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICJpZCI6IHsgInR5cGUiOiAiaW50ZWdlciIsICJmb3JtYXQiOiAiaW50NjQiLCAiZXhhbXBsZSI6IDEwIH0sCiAgICAgICAgICAibmFtZSI6IHsgInR5cGUiOiAic3RyaW5nIiwgImV4YW1wbGUiOiAiZG9nZ2llIiB9LAogICAgICAgICAgImNhdGVnb3J5IjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9DYXRlZ29yeSIgfSwKICAgICAgICAgICJwaG90b1VybHMiOiB7CiAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgInhtbCI6IHsgIndyYXBwZWQiOiB0cnVlIH0sCiAgICAgICAgICAgICJpdGVtcyI6IHsgInR5cGUiOiAic3RyaW5nIiwgInhtbCI6IHsgIm5hbWUiOiAicGhvdG9VcmwiIH0gfQogICAgICAgICAgfSwKICAgICAgICAgICJ0YWdzIjogewogICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICJ4bWwiOiB7ICJ3cmFwcGVkIjogdHJ1ZSB9LAogICAgICAgICAgICAiaXRlbXMiOiB7ICIkcmVmIjogIiMvY29tcG9uZW50cy9zY2hlbWFzL1RhZyIgfQogICAgICAgICAgfSwKICAgICAgICAgICJzdGF0dXMiOiB7CiAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJwZXQgc3RhdHVzIGluIHRoZSBzdG9yZSIsCiAgICAgICAgICAgICJlbnVtIjogWyJhdmFpbGFibGUiLCAicGVuZGluZyIsICJzb2xkIl0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJ4bWwiOiB7ICJuYW1lIjogInBldCIgfQogICAgICB9LAogICAgICAiQXBpUmVzcG9uc2UiOiB7CiAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICJjb2RlIjogeyAidHlwZSI6ICJpbnRlZ2VyIiwgImZvcm1hdCI6ICJpbnQzMiIgfSwKICAgICAgICAgICJ0eXBlIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAgICAgICAibWVzc2FnZSI6IHsgInR5cGUiOiAic3RyaW5nIiB9CiAgICAgICAgfSwKICAgICAgICAieG1sIjogeyAibmFtZSI6ICIjI2RlZmF1bHQiIH0KICAgICAgfQogICAgfSwKICAgICJyZXF1ZXN0Qm9kaWVzIjogewogICAgICAiUGV0IjogewogICAgICAgICJkZXNjcmlwdGlvbiI6ICJQZXQgb2JqZWN0IHRoYXQgbmVlZHMgdG8gYmUgYWRkZWQgdG8gdGhlIHN0b3JlIiwKICAgICAgICAiY29udGVudCI6IHsKICAgICAgICAgICJhcHBsaWNhdGlvbi9qc29uIjogewogICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9QZXQiIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiYXBwbGljYXRpb24veG1sIjogewogICAgICAgICAgICAic2NoZW1hIjogeyAiJHJlZiI6ICIjL2NvbXBvbmVudHMvc2NoZW1hcy9QZXQiIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICJVc2VyQXJyYXkiOiB7CiAgICAgICAgImRlc2NyaXB0aW9uIjogIkxpc3Qgb2YgdXNlciBvYmplY3QiLAogICAgICAgICJjb250ZW50IjogewogICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iOiB7CiAgICAgICAgICAgICJzY2hlbWEiOiB7CiAgICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAgICJpdGVtcyI6IHsgIiRyZWYiOiAiIy9jb21wb25lbnRzL3NjaGVtYXMvVXNlciIgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgInNlY3VyaXR5U2NoZW1lcyI6IHsKICAgICAgInBldHN0b3JlX2F1dGgiOiB7CiAgICAgICAgInR5cGUiOiAib2F1dGgyIiwKICAgICAgICAiZmxvd3MiOiB7CiAgICAgICAgICAiaW1wbGljaXQiOiB7CiAgICAgICAgICAgICJhdXRob3JpemF0aW9uVXJsIjogImh0dHBzOi8vcGV0c3RvcmUzLnN3YWdnZXIuaW8vb2F1dGgvYXV0aG9yaXplIiwKICAgICAgICAgICAgInNjb3BlcyI6IHsKICAgICAgICAgICAgICAid3JpdGU6cGV0cyI6ICJtb2RpZnkgcGV0cyBpbiB5b3VyIGFjY291bnQiLAogICAgICAgICAgICAgICJyZWFkOnBldHMiOiAicmVhZCB5b3VyIHBldHMiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICJhcGlfa2V5IjogeyAidHlwZSI6ICJhcGlLZXkiLCAibmFtZSI6ICJhcGlfa2V5IiwgImluIjogImhlYWRlciIgfQogICAgfQogIH0KfQ==";
const petstoreSwagger = atob(petstoreSwaggerBase64);
document.getElementById("openapi-editor").innerHTML = petstoreSwagger;

ace.config.set(
  "basePath",
  "https://cdnjs.cloudflare.com/ajax/libs/ace/1.11.2/"
);

const editor = ace.edit("openapi-editor");
editor.session.setMode("ace/mode/json");
editor.session.setUseWrapMode(true);

const editorOutput = ace.edit("openapi-output");

let generatedAPI = {};

const modeMap = {
  md: "ace/mode/markdown",
  json: "ace/mode/json",
  yaml: "ace/mode/yaml",
  ts: "ace/mode/typescript",
  cs: "ace/mode/csharp",
};

function showOutput(filename) {
  editorOutput.setValue(atob(generatedAPI[filename]));
  const extension = filename.split(".").pop();
  editorOutput.session.setMode(modeMap[extension]);
  editorOutput.selection.clearSelection();
  editorOutput.session.setUseWrapMode(true);
}

document.getElementById("file-selector").addEventListener("change", (e) => {
  const selected = e.target.options[e.target.selectedIndex];
  showOutput(selected.value);
});

document.getElementById("generate").addEventListener("click", async (e) => {
  fetch("https://d3h3oloi1i.execute-api.us-east-1.amazonaws.com/dev/generate", {
    method: "POST",
    body: JSON.stringify({
      language: document.getElementById("language-selector").value,
      schema: editor.getValue(),
    })
  })
    .then((response) => response.json())
    .then((data) => {
      console.log(data);
      const selector = document.getElementById("file-selector");

      // populate select with file names
      selector.innerHTML = "";
      Object.keys(data).forEach((file) => {
        const option = document.createElement("option");
        option.value = file;
        option.text = file;
        selector.appendChild(option);
      });

      generatedAPI = data;

      showOutput("README.md");
    });
  return false;
});
